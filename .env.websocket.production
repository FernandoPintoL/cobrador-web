# ============================================
# CONFIGURACIÓN WEBSOCKET PARA LARAVEL - PRODUCCIÓN
# ============================================
# Copia estas variables a tu .env de producción en Railway/Laravel
# Fecha: 2025-10-20

# URL del servidor WebSocket Node.js (producción)
WEBSOCKET_URL=https://websocket-server-cobrador-production.up.railway.app

# Puerto del WebSocket (NO necesario en producción, Railway lo maneja)
# WEBSOCKET_PORT=3001  <- NO usar en producción

# Host del WebSocket (NO necesario en producción)
# WEBSOCKET_HOST=websocket-server-cobrador-production.up.railway.app  <- NO usar

# Habilitar servicio WebSocket
WEBSOCKET_ENABLED=true

# ============================================
# AUTENTICACIÓN WEBSOCKET
# ============================================
# Secret key para autenticar requests desde Laravel hacia WebSocket
# IMPORTANTE: DEBE coincidir EXACTAMENTE con WS_SECRET del servidor WebSocket
WS_SECRET=CobradorApp2025SecureWebSocketJWTKey64CharsMinimumForProductionSecurity

# ============================================
# CONFIGURACIÓN DE TIMEOUTS Y REINTENTOS
# ============================================
# Tiempo máximo de espera para requests HTTP al WebSocket (segundos)
WEBSOCKET_TIMEOUT=5

# Número máximo de reintentos cuando falla el envío
WEBSOCKET_MAX_RETRIES=3

# Delay entre reintentos (milisegundos)
WEBSOCKET_RETRY_DELAY=1000

# ============================================
# CONFIGURACIÓN DE COLA (QUEUE)
# ============================================
# Habilitar procesamiento asíncrono de notificaciones
WEBSOCKET_QUEUE_ENABLED=false

# Conexión de cola a usar (si está habilitado)
WEBSOCKET_QUEUE_CONNECTION=redis

# Nombre de la cola
WEBSOCKET_QUEUE_NAME=websocket

# ============================================
# CONFIGURACIÓN DE LOGS
# ============================================
# Habilitar logs de WebSocket
WEBSOCKET_LOGGING_ENABLED=true

# Nivel de log: debug, info, warning, error
WEBSOCKET_LOG_LEVEL=info

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. WS_SECRET DEBE ser idéntico en ambos .env (Laravel y WebSocket server)
# 2. NO usar WEBSOCKET_PORT en producción con Railway
# 3. Asegúrate de que la URL usa HTTPS en producción
# 4. Si usas colas (queue), asegúrate de tener Redis configurado
